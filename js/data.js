// –î–∞–Ω–Ω—ã–µ –æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è—Ö –∏ –∫–∞—Ä—Ç–∞—Ö —Å –∞–∫—Ç—É–∞–ª—å–Ω—ã–º–∏ –∫—ç—à–±–µ–∫–∞–º–∏ –ö–∞–∑–∞—Ö—Å—Ç–∞–Ω–∞
const CATEGORIES_DATA = [
  {
    id: "groceries",
    name: "–ü—Ä–æ–¥—É–∫—Ç—ã –∏ —Å—É–ø–µ—Ä–º–∞—Ä–∫–µ—Ç—ã",
    icon: "üõí",
    cards: [
      {
        bankName: "Freedom Bank",
        cardName: "Freedom Card",
        cashbackPercent: 29,
        description: "Arbuz - –¥–æ 29% –∫—ç—à–±–µ–∫",
        referralLink: "https://freedom.kz",
        color: "#FF6B35"
      },
      {
        bankName: "Freedom Bank",
        cardName: "Freedom Card",
        cashbackPercent: 17,
        description: "Choco - –¥–æ 17% –∫—ç—à–±–µ–∫",
        referralLink: "https://freedom.kz",
        color: "#FF6B35"
      },
      {
        bankName: "Halyk Bank",
        cardName: "Halyk Card",
        cashbackPercent: 10,
        description: "–ì–∏–ø–µ—Ä–º–∞—Ä–∫–µ—Ç—ã METRO - 10% –∫—ç—à–±–µ–∫",
        referralLink: "https://halykbank.kz",
        color: "#1E88E5"
      },
      {
        bankName: "–ë–¶–ö",
        cardName: "–ë–¶–ö Card",
        cashbackPercent: 8,
        description: "Small & Spar - 8% –∫—ç—à–±–µ–∫ (–∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–æ)",
        referralLink: "https://bcc.kz",
        color: "#4CAF50"
      },
      {
        bankName: "Freedom Bank",
        cardName: "Freedom Card (—É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞—è)",
        cashbackPercent: 7,
        description: "–ü–æ–≤—ã—à–µ–Ω–Ω—ã–π –∫—ç—à–±–µ–∫ –ø–æ—á—Ç–∏ –≤–µ–∑–¥–µ - –¥–æ 7%",
        referralLink: "https://freedom.kz",
        color: "#FF6B35"
      },
      {
        bankName: "Forte",
        cardName: "–Ø–Ω–¥–µ–∫—Å –ü–ª—é—Å Forte",
        cashbackPercent: 5,
        description: "–Ø–Ω–¥–µ–∫—Å Go (—Ä–∞–∑–¥–µ–ª –ï–¥–∞) - –¥–æ 5%",
        referralLink: "https://forte.kz",
        color: "#9C27B0"
      },
      {
        bankName: "Forte",
        cardName: "Forte Card",
        cashbackPercent: 5,
        description: "–ö–∞—Ñ–µ –∏ —Ä–µ—Å—Ç–æ—Ä–∞–Ω—ã - 5% –∫—ç—à–±–µ–∫",
        referralLink: "https://forte.kz",
        color: "#9C27B0"
      }
    ]
  },
  {
    id: "gas",
    name: "–ê–ó–° –∏ –∞–≤—Ç–æ—É—Å–ª—É–≥–∏",
    icon: "‚õΩ",
    cards: [
      {
        bankName: "–ï–≤—Ä–∞–∑–∏–π—Å–∫–∏–π –±–∞–Ω–∫",
        cardName: "–ê–≤—Ç–æ–∫–∞—Ä—Ç–∞",
        cashbackPercent: 10,
        description: "–ê–ó–° - –¥–æ 10% –∫—ç—à–±–µ–∫",
        referralLink: "https://eubank.kz",
        color: "#E53935"
      },
      {
        bankName: "Bereke Bank",
        cardName: "Bereke Card",
        cashbackPercent: 10,
        description: "–ê–ó–° - 10% –∫—ç—à–±–µ–∫",
        referralLink: "https://berekebank.kz",
        color: "#FFC107"
      },
      {
        bankName: "Forte",
        cardName: "–Ø–Ω–¥–µ–∫—Å –ü–ª—é—Å Forte",
        cashbackPercent: 8,
        description: "–ê–ó–° - –¥–æ 8% –∫—ç—à–±–µ–∫",
        referralLink: "https://forte.kz",
        color: "#9C27B0"
      },
      {
        bankName: "Forte",
        cardName: "Forte Card",
        cashbackPercent: 3,
        description: "–ê–ó–° - –¥–æ 3% –∫—ç—à–±–µ–∫",
        referralLink: "https://forte.kz",
        color: "#9C27B0"
      }
    ]
  },
  {
    id: "restaurants",
    name: "–†–µ—Å—Ç–æ—Ä–∞–Ω—ã –∏ –¥–æ—Å—Ç–∞–≤–∫–∞",
    icon: "üçï",
    cards: [
      {
        bankName: "RBK",
        cardName: "RBK Card",
        cashbackPercent: 25,
        description: "–†–µ—Å—Ç–æ—Ä–∞–Ω—ã ABR –∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ abr+ - –¥–æ 25%",
        referralLink: "https://rbk.kz",
        color: "#795548"
      },
      {
        bankName: "Freedom Bank",
        cardName: "Freedom Card",
        cashbackPercent: 17,
        description: "Choco - –¥–æ 17% –∫—ç—à–±–µ–∫",
        referralLink: "https://freedom.kz",
        color: "#FF6B35"
      },
      {
        bankName: "Forte",
        cardName: "–Ø–Ω–¥–µ–∫—Å –ü–ª—é—Å Forte",
        cashbackPercent: 5,
        description: "–Ø–Ω–¥–µ–∫—Å Go (—Ä–∞–∑–¥–µ–ª –ï–¥–∞) - –¥–æ 5%",
        referralLink: "https://forte.kz",
        color: "#9C27B0"
      },
      {
        bankName: "Forte",
        cardName: "Forte Card",
        cashbackPercent: 5,
        description: "–ö–∞—Ñ–µ –∏ —Ä–µ—Å—Ç–æ—Ä–∞–Ω—ã - 5% –∫—ç—à–±–µ–∫",
        referralLink: "https://forte.kz",
        color: "#9C27B0"
      }
    ]
  },
  {
    id: "entertainment",
    name: "–†–∞–∑–≤–ª–µ—á–µ–Ω–∏—è –∏ –∫–∏–Ω–æ",
    icon: "üé¨",
    cards: [
      {
        bankName: "–ï–≤—Ä–∞–∑–∏–π—Å–∫–∏–π –±–∞–Ω–∫",
        cardName: "–ê–≤—Ç–æ–∫–∞—Ä—Ç–∞",
        cashbackPercent: 30,
        description: "–ö–∏–Ω–æ, –∫–æ–Ω—Ü–µ—Ä—Ç—ã, —Ç–µ–∞—Ç—Ä—ã, –∞—Ç—Ç—Ä–∞–∫—Ü–∏–æ–Ω—ã - 30%",
        referralLink: "https://eubank.kz",
        color: "#E53935"
      },
      {
        bankName: "Bereke Bank",
        cardName: "Bereke Card (–ú–µ–º–æ—Ä–∏–Ω–∞)",
        cashbackPercent: 30,
        description: "–ö–∏–Ω–æ - –¥–æ 30% (—á–µ—Ä–µ–∑ –∏–≥—Ä—É –ú–µ–º–æ—Ä–∏–Ω–∞)",
        referralLink: "https://berekebank.kz",
        color: "#FFC107"
      },
      {
        bankName: "Freedom Bank",
        cardName: "Freedom Card",
        cashbackPercent: 22,
        description: "Ticketon - –¥–æ 22% –∫—ç—à–±–µ–∫",
        referralLink: "https://freedom.kz",
        color: "#FF6B35"
      },
      {
        bankName: "Halyk Bank",
        cardName: "Halyk Card",
        cashbackPercent: 15,
        description: "Kinokz - 15% –∫—ç—à–±–µ–∫",
        referralLink: "https://halykbank.kz",
        color: "#1E88E5"
      }
    ]
  },
  {
    id: "transport",
    name: "–¢–∞–∫—Å–∏ –∏ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç",
    icon: "üöï",
    cards: [
      {
        bankName: "Activ",
        cardName: "–¢–∞—Ä–∏—Ñ –°–µ–º–µ–π–Ω—ã–π",
        cashbackPercent: 100,
        description: "Onay, Avtobys, Tulpar card –∏ CTS - 100% –ø—Ä–∏ –æ–ø–ª–∞—Ç–µ —Å –±–∞–ª–∞–Ω—Å–∞",
        referralLink: "https://activ.kz",
        color: "#00BCD4"
      },
      {
        bankName: "Freedom Bank",
        cardName: "Freedom Card",
        cashbackPercent: 100,
        description: "QazAvtoJol (–ø–ª–∞—Ç–Ω—ã–µ –¥–æ—Ä–æ–≥–∏) - 100% –≤–æ–∑–≤—Ä–∞—Ç",
        referralLink: "https://freedom.kz",
        color: "#FF6B35"
      },
      {
        bankName: "Forte",
        cardName: "–Ø–Ω–¥–µ–∫—Å –ü–ª—é—Å Forte",
        cashbackPercent: 20,
        description: "–¢–∞–∫—Å–∏ - –¥–æ 20% –∫—ç—à–±–µ–∫",
        referralLink: "https://forte.kz",
        color: "#9C27B0"
      },
      {
        bankName: "Freedom Bank",
        cardName: "Freedom Card",
        cashbackPercent: 17,
        description: "–ê–≤–∏–∞ –∏ –∂/–¥ –±–∏–ª–µ—Ç—ã –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ Freedom - –¥–æ 17%",
        referralLink: "https://freedom.kz",
        color: "#FF6B35"
      },
      {
        bankName: "Bereke Bank",
        cardName: "Bereke Card",
        cashbackPercent: 10,
        description: "–¢–∞–∫—Å–∏ - 10% –∫—ç—à–±–µ–∫",
        referralLink: "https://berekebank.kz",
        color: "#FFC107"
      },
      {
        bankName: "Forte",
        cardName: "Forte Card",
        cashbackPercent: 10,
        description: "–¢–∞–∫—Å–∏ - 10% –∫—ç—à–±–µ–∫",
        referralLink: "https://forte.kz",
        color: "#9C27B0"
      },
      {
        bankName: "Alatau City Bank",
        cardName: "Alatau Card",
        cashbackPercent: 7,
        description: "–¢–∞–∫—Å–∏ - 7% –∫—ç—à–±–µ–∫",
        referralLink: "https://alataubank.kz",
        color: "#607D8B"
      },
      {
        bankName: "–ï–≤—Ä–∞–∑–∏–π—Å–∫–∏–π –±–∞–Ω–∫",
        cardName: "–ê–≤—Ç–æ–∫–∞—Ä—Ç–∞",
        cashbackPercent: 5,
        description: "–¢–∞–∫—Å–∏ - 5% –∫—ç—à–±–µ–∫",
        referralLink: "https://eubank.kz",
        color: "#E53935"
      },
      {
        bankName: "–ë–¶–ö",
        cardName: "–ë–¶–ö Card",
        cashbackPercent: 4,
        description: "–¢–∞–∫—Å–∏ - 4% –∫—ç—à–±–µ–∫ (–∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–æ)",
        referralLink: "https://bcc.kz",
        color: "#4CAF50"
      }
    ]
  },
  {
    id: "pharmacy",
    name: "–ê–ø—Ç–µ–∫–∏ –∏ –∑–¥–æ—Ä–æ–≤—å–µ",
    icon: "üíä",
    cards: [
      {
        bankName: "Forte",
        cardName: "Forte Card",
        cashbackPercent: 7,
        description: "–ê–ø—Ç–µ–∫–∏ - 7% –∫—ç—à–±–µ–∫",
        referralLink: "https://forte.kz",
        color: "#9C27B0"
      },
      {
        bankName: "Alatau City Bank",
        cardName: "Alatau Card",
        cashbackPercent: 5,
        description: "–ú–µ–¥—Ü–µ–Ω—Ç—Ä—ã, —Ñ–∏—Ç–Ω–µ—Å, –æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ - 5%",
        referralLink: "https://alataubank.kz",
        color: "#607D8B"
      }
    ]
  },
  {
    id: "clothing",
    name: "–û–¥–µ–∂–¥–∞ –∏ –∫—Ä–∞—Å–æ—Ç–∞",
    icon: "üëï",
    cards: [
      {
        bankName: "Forte",
        cardName: "Forte Card",
        cashbackPercent: 7,
        description: "–°–ø–æ—Ä—Ç - 7% –∫—ç—à–±–µ–∫",
        referralLink: "https://forte.kz",
        color: "#9C27B0"
      },
      {
        bankName: "Forte",
        cardName: "Forte Card",
        cashbackPercent: 5,
        description: "–ö—Ä–∞—Å–æ—Ç–∞ –∏ —É—Ö–æ–¥ - 5% –∫—ç—à–±–µ–∫",
        referralLink: "https://forte.kz",
        color: "#9C27B0"
      },
      {
        bankName: "Alatau City Bank",
        cardName: "Alatau Card",
        cashbackPercent: 3,
        description: "–û–¥–µ–∂–¥–∞ –∏ –æ–±—É–≤—å - 3% –∫—ç—à–±–µ–∫",
        referralLink: "https://alataubank.kz",
        color: "#607D8B"
      }
    ]
  },
  {
    id: "online",
    name: "–ò–Ω—Ç–µ—Ä–Ω–µ—Ç-–ø–æ–∫—É–ø–∫–∏",
    icon: "üõçÔ∏è",
    cards: [
      {
        bankName: "Freedom Bank",
        cardName: "Freedom Mobile",
        cashbackPercent: 37,
        description: "–°–º–∞—Ä—Ç—Ñ–æ–Ω—ã - –¥–æ 37% –∫—ç—à–±–µ–∫",
        referralLink: "https://freedom.kz",
        color: "#FF6B35"
      },
      {
        bankName: "Freedom Bank",
        cardName: "Freedom Drive",
        cashbackPercent: 26,
        description: "–®–∏–Ω—ã - –¥–æ 26% –∫—ç—à–±–µ–∫",
        referralLink: "https://freedom.kz",
        color: "#FF6B35"
      },
      {
        bankName: "Alatau City Bank",
        cardName: "Alatau Card",
        cashbackPercent: 20,
        description: "–¢–æ–≤–∞—Ä—ã –¥–ª—è –¥–µ—Ç–µ–π - 20% –∫—ç—à–±–µ–∫",
        referralLink: "https://alataubank.kz",
        color: "#607D8B"
      },
      {
        bankName: "Forte",
        cardName: "Forte Card",
        cashbackPercent: 20,
        description: "Forte Market - 20% –∫—ç—à–±–µ–∫",
        referralLink: "https://forte.kz",
        color: "#9C27B0"
      },
      {
        bankName: "Freedom Bank",
        cardName: "Freedom Card",
        cashbackPercent: 19,
        description: "Naimi –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ Freedom - –¥–æ 19%",
        referralLink: "https://freedom.kz",
        color: "#FF6B35"
      },
      {
        bankName: "Freedom Bank",
        cardName: "Freedom Card",
        cashbackPercent: 12,
        description: "–¢—É—Ä—ã –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ Freedom - –¥–æ 12%",
        referralLink: "https://freedom.kz",
        color: "#FF6B35"
      },
      {
        bankName: "Halyk Bank",
        cardName: "Halyk QR Card",
        cashbackPercent: 10,
        description: "Alser - 10% –∫—ç—à–±–µ–∫",
        referralLink: "https://halykbank.kz",
        color: "#1E88E5"
      },
      {
        bankName: "Forte",
        cardName: "Forte Card",
        cashbackPercent: 10,
        description: "Forte Travel - 10% –∫—ç—à–±–µ–∫",
        referralLink: "https://forte.kz",
        color: "#9C27B0"
      },
      {
        bankName: "–ë–¶–ö",
        cardName: "–ë–¶–ö Card",
        cashbackPercent: 10,
        description: "Clever - 10% –∫—ç—à–±–µ–∫ (–∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–æ)",
        referralLink: "https://bcc.kz",
        color: "#4CAF50"
      },
      {
        bankName: "–ï–≤—Ä–∞–∑–∏–π—Å–∫–∏–π –±–∞–Ω–∫",
        cardName: "–ê–≤—Ç–æ–∫–∞—Ä—Ç–∞",
        cashbackPercent: 5,
        description: "–ó–æ–æ–º–∞–≥–∞–∑–∏–Ω—ã –∏ —É—Å–ª—É–≥–∏ - 5% –∫—ç—à–±–µ–∫",
        referralLink: "https://eubank.kz",
        color: "#E53935"
      }
    ]
  },
  {
    id: "utilities",
    name: "–ö–æ–º–º—É–Ω–∞–ª—å–Ω—ã–µ —É—Å–ª—É–≥–∏",
    icon: "üè†",
    cards: [
      {
        bankName: "Activ",
        cardName: "–¢–∞—Ä–∏—Ñ –°–µ–º–µ–π–Ω—ã–π",
        cashbackPercent: 20,
        description: "–ö–æ–º–º—É–Ω–∞–ª–∫–∞ - 20% –ø—Ä–∏ –æ–ø–ª–∞—Ç–µ —Å –±–∞–ª–∞–Ω—Å–∞",
        referralLink: "https://activ.kz",
        color: "#00BCD4"
      },
      {
        bankName: "Forte",
        cardName: "Forte Card",
        cashbackPercent: 10,
        description: "–ö–æ–º–º—É–Ω–∞–ª–∫–∞, –ò–Ω—Ç–µ—Ä–Ω–µ—Ç –∏ –¢–í - 10%",
        referralLink: "https://forte.kz",
        color: "#9C27B0"
      }
    ]
  },
  {
    id: "insurance",
    name: "–°—Ç—Ä–∞—Ö–æ–≤–∞–Ω–∏–µ",
    icon: "üõ°Ô∏è",
    cards: [
      {
        bankName: "Halyk Bank",
        cardName: "Halyk Card",
        cashbackPercent: 50,
        description: "–ö–ê–°–ö–û - —Å–∫–∏–¥–∫–∞ 50%",
        referralLink: "https://halykbank.kz",
        color: "#1E88E5"
      },
      {
        bankName: "Freedom Bank",
        cardName: "Freedom Card",
        cashbackPercent: 23,
        description: "–ö–ê–°–ö–û - 23% –∫—ç—à–±–µ–∫",
        referralLink: "https://freedom.kz",
        color: "#FF6B35"
      },
      {
        bankName: "Freedom Bank",
        cardName: "Freedom Card",
        cashbackPercent: 20,
        description: "–°—Ç—Ä–∞—Ö–æ–≤–∫–∞ –¥–ª—è —Ç—É—Ä–∏—Å—Ç–æ–≤ - 20%",
        referralLink: "https://freedom.kz",
        color: "#FF6B35"
      },
      {
        bankName: "Kcell/Activ",
        cardName: "Kcell/Activ",
        cashbackPercent: 10,
        description: "–û–ì–ü–û, –ú–∏–Ω–∏–ö–ê–°–ö–û, —Ç—É—Ä–∏—Å—Ç–∏—á–µ—Å–∫–∞—è - 10% OGO –±–æ–Ω—É—Å–æ–≤",
        referralLink: "https://kcell.kz",
        color: "#00BCD4"
      },
      {
        bankName: "Freedom Bank",
        cardName: "Freedom Card",
        cashbackPercent: 5,
        description: "–û–ì–ü–û - 5% –∫—ç—à–±–µ–∫",
        referralLink: "https://freedom.kz",
        color: "#FF6B35"
      }
    ]
  }
];

// –§—É–Ω–∫—Ü–∏–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –¥–∞–Ω–Ω—ã–º–∏
class DataService {
  static getCategories() {
    return CATEGORIES_DATA;
  }

  static getCategoryById(id) {
    return CATEGORIES_DATA.find(cat => cat.id === id);
  }

  static getBestCard(category) {
    if (!category?.cards?.length) return null;
    return category.cards.reduce((best, current) => 
      current.cashbackPercent > best.cashbackPercent ? current : best
    );
  }

  static getBestUserCard(category, userCards) {
    if (!userCards?.length || !category?.cards?.length) return null;

    const availableUserCards = category.cards.filter(categoryCard => 
      userCards.some(userCard => 
        userCard.bankName === categoryCard.bankName && 
        userCard.cardName === categoryCard.cardName
      )
    );

    if (!availableUserCards.length) return null;

    return availableUserCards.reduce((best, current) => 
      current.cashbackPercent > best.cashbackPercent ? current : best
    );
  }

  // –°–∏–º—É–ª—è—Ü–∏—è –∑–∞–≥—Ä—É–∑–∫–∏ —Å —Å–µ—Ä–≤–µ—Ä–∞
  static async fetchCategories() {
    return new Promise((resolve) => {
      setTimeout(() => {
        resolve(CATEGORIES_DATA);
      }, 500);
    });
  }

  // –ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –±–∞–Ω–∫–æ–≤
  static getAllBanks() {
    const banksSet = new Set();
    CATEGORIES_DATA.forEach(category => {
      category.cards.forEach(card => {
        banksSet.add(card.bankName);
      });
    });
    return Array.from(banksSet).sort();
  }
}